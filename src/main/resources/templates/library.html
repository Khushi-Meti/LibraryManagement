<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Library</title>
</head>
<body>
<h1>ðŸ“š Library Management</h1>

<!-- Show availability message (only when checkAvail is called) -->
<p th:if="${availability}" th:text="${availability}" style="color: green; font-weight: bold;"></p>

<!-- Add Book Form -->
<h2>Add Book</h2>
<form th:action="@{/books/add}" method="post">

    <label>Title:</label>
    <input type="text" name="title" required><br><br>

    <label>Author:</label>
    <input type="text" name="author" required><br><br>

    <label>Availability:</label>
    <input type="checkbox" name="available" required><br><br>

    <button type="submit">Add Book</button>
</form>

<hr>

<!-- Delete Book Form -->
<h2>Delete Book</h2>
<form th:action="@{/books/delete}" method="post">
    <label>Book ID:</label>
    <input type="number" name="id" required>
    <button type="submit">Delete</button>
</form>

<hr>

<!-- Check Availability -->
<h2>Check Book Availability</h2>
<form th:action="@{/books/library-check}" method="get">
    <label>Book ID:</label>
    <input type="number" name="id" required>
    <button type="submit">Check</button>
</form>

<hr>

<!-- Book List -->
<h2>All Books</h2>
<table border="1" cellpadding="10">
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Author</th>
        <th>Availability</th>
    </tr>
    <tr th:each="book : ${books}">
        <td th:text="${book.id}"></td>
        <td th:text="${book.title}"></td>
        <td th:text="${book.author}"></td>
        <td th:text="${book.available}"></td>
    </tr>
</table>
</body>
</html>
